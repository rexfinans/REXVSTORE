<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RexvStore - Dijital Ã‡Ã¶zÃ¼mler ve GÃ¼venlik | Resmi Sayfa (Firebase Destekli)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        /* ################################### */
        /* Ã–ZEL CSS STÄ°LLERÄ° VE ANÄ°MASYONLAR */
        /* ################################### */
        
        body { font-family: 'Inter', sans-serif; }
        html { scroll-behavior: smooth; }
        
        /* Kart Animasyonu */
        .product-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border-bottom: 5px solid transparent; /* VarsayÄ±lan alt sÄ±nÄ±r */
        }
        .product-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.25);
            border-color: #1d4ed8;
        }
        
        /* Buton Efektleri */
        .btn-primary { transition: all 0.3s ease; }
        .btn-primary:hover { transform: scale(1.03); opacity: 0.9; }

        /* Kategori Butonu Vurgusu */
        .category-button { 
            transition: all 0.3s; 
            border: 1px solid #e5e7eb;
        }
        .category-button.active {
            background-color: #dc2626; /* KÄ±rmÄ±zÄ± (Red 600) */
            color: white;
            box-shadow: 0 4px 10px rgba(220, 38, 38, 0.4);
            transform: scale(1.05);
            border-color: #dc2626;
        }
        .category-button.active span, .category-button.active i {
            color: white !important;
        }
        
        /* Mobil MenÃ¼ Animasyonu */
        #mobile-menu {
            transition: transform 0.3s ease-out;
            transform: translateX(100%);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }

        /* Hero Slider Stili */
        .hero-slide { 
            position: absolute; width: 100%; height: 100%; 
            opacity: 0; transition: opacity 1s ease-in-out; 
            background-size: cover; background-position: center;
        }
        .hero-slide.active { opacity: 1; }

        /* Quick View Modal Stili */
        #quick-view-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.85); z-index: 2000;
            display: none; justify-content: center; align-items: center; overflow-y: auto;
            padding: 20px;
        }
        #quick-view-content {
            background-color: white; border-radius: 1rem; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8);
            max-width: 1000px; width: 95%; margin: auto;
            transform: translateY(20px); opacity: 0; transition: all 0.4s ease-out;
        }
        #quick-view-modal.open #quick-view-content {
            transform: translateY(0); opacity: 1;
        }

        /* Duyuru bandÄ± */
        #announcement-bar {
            position: sticky;
            top: 0;
            z-index: 50; /* Header'dan hemen Ã¶nce */
        }
    </style>
</head>
<body class="bg-gray-50 antialiased">

    <!-- Telegram Butonu -->
    <a id="telegram-btn" href="https://t.me/rexvstore_destek" target="_blank" class="p-4 rounded-full text-white flex items-center justify-center fixed bottom-6 right-6 z-1000 bg-blue-600 hover:bg-blue-700 transition duration-300 shadow-xl">
        <i class="fab fa-telegram-plane text-3xl"></i>
    </a>

    <!-- HÄ±zlÄ± GÃ¶rÃ¼nÃ¼m ModalÄ± -->
    <div id="quick-view-modal" onclick="if(event.target.id === 'quick-view-modal') closeQuickViewModal();">
        <div id="quick-view-content">
            <!-- Modal Ä°Ã§eriÄŸi Buraya YÃ¼klenir -->
        </div>
    </div>
    
    <!-- Duyuru BandÄ± (Firebase'den gelir) -->
    <div id="announcement-bar" class="hidden">
        <div class="bg-yellow-500 text-white text-center py-2 px-4 shadow-lg flex items-center justify-center">
            <i class="fas fa-bullhorn text-lg mr-3"></i>
            <span id="announcement-text" class="font-bold text-sm sm:text-base">YÃ¼kleniyor...</span>
        </div>
    </div>

    <!-- Sabit BaÅŸlÄ±k (Header) -->
    <header class="bg-white shadow-lg sticky top-0 md:top-[38px] z-50 transition-all duration-300" id="main-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-3xl font-extrabold text-gray-900 tracking-wider">
                <span class="text-red-600">R</span>ex<span class="text-blue-600">v</span><span class="text-gray-900">Store</span> 
            </a>
            
            <nav class="hidden md:flex space-x-8 text-lg font-medium">
                <a href="#products" class="text-red-600 font-bold hover:text-red-700 transition duration-200">Hizmetler</a>
                <a href="#guarantees" class="text-gray-700 hover:text-blue-600 transition duration-200">Neden Biz?</a>
                <a href="#testimonials" class="text-gray-700 hover:text-blue-600 transition duration-200">Yorumlar</a>
                <a href="#faq" class="text-gray-700 hover:text-blue-600 transition duration-200">SSS</a>
                <a href="#contact" class="text-gray-700 hover:text-blue-600 transition duration-200">Ä°letiÅŸim</a>
            </nav>
            
            <button id="menu-button" class="md:hidden text-3xl text-gray-700 hover:text-red-600" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Mobil MenÃ¼ -->
    <div id="mobile-menu" class="fixed top-0 right-0 h-full w-4/5 sm:w-1/2 bg-gray-900 text-white z-40 p-8 shadow-2xl hidden">
        <div class="flex justify-between items-center mb-10 border-b border-gray-700 pb-4">
            <h2 class="text-3xl font-extrabold">MenÃ¼</h2>
            <button class="text-3xl text-gray-300 hover:text-red-600" onclick="toggleMobileMenu()">
                <i class="fas fa-times-circle"></i>
            </button>
        </div>
        <nav class="flex flex-col space-y-6 text-xl font-semibold">
            <a href="#products" onclick="toggleMobileMenu()" class="text-red-400 hover:bg-gray-800 p-3 rounded-lg"><i class="fas fa-list mr-2"></i> Hizmetler</a>
            <a href="#guarantees" onclick="toggleMobileMenu()" class="text-gray-300 hover:bg-gray-800 p-3 rounded-lg"><i class="fas fa-handshake-angle mr-2"></i> Neden Biz?</a>
            <a href="#testimonials" onclick="toggleMobileMenu()" class="text-gray-300 hover:bg-gray-800 p-3 rounded-lg"><i class="fas fa-comment-dots mr-2"></i> Yorumlar</a>
            <a href="#faq" onclick="toggleMobileMenu()" class="text-gray-300 hover:bg-gray-800 p-3 rounded-lg"><i class="fas fa-question-circle mr-2"></i> SSS</a>
            <a href="#contact" onclick="toggleMobileMenu()" class="text-gray-300 hover:bg-gray-800 p-3 rounded-lg"><i class="fas fa-envelope mr-2"></i> Ä°letiÅŸim</a>
            <hr class="my-4 border-gray-700">
             <a href="satin_al.html" class="bg-red-600 hover:bg-red-700 text-white text-center font-bold py-3 px-6 rounded-xl mt-4 text-lg shadow-lg btn-primary">
                Hemen SipariÅŸ Ver <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </nav>
    </div>

    <main class="font-sans antialiased">
        
        <!-- Hero ve Slider -->
        <section id="hero" class="relative w-full h-[80vh] overflow-hidden">
            <div id="hero-slider" class="w-full h-full relative">
                 <!-- Slaytlar buraya Firebase'den dinamik olarak yÃ¼klenecektir -->
                 <div class="hero-slide active" style="background-image: url('https://placehold.co/1920x1080/000000/FFFFFF?text=RexvStore');"></div>
                 
                <div class="absolute inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center text-center z-10 p-4">
                    <div class="max-w-4xl">
                        <h1 class="text-5xl md:text-7xl font-black text-white leading-tight mb-4 tracking-tight">
                            Dijitalde <span class="text-red-400">Gizli GÃ¼Ã§:</span> <br>Ã–zel YazÄ±lÄ±m ve GÃ¼venlik.
                        </h1>
                        <p class="text-xl md:text-2xl text-gray-300 mb-10 font-light">
                            %100 GÃ¼venlik ve Tam Anonimlik Garantisiyle Projelerinizi BaÅŸlatÄ±n.
                        </p>
                        <a href="#products" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-10 rounded-full text-lg shadow-2xl transition duration-300 transform hover:scale-105 inline-block btn-primary">
                            Hizmetlere GÃ¶z At <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kategori Filtreleme -->
        <section id="categories" class="py-10 bg-gray-100 shadow-inner">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">HÄ±zlÄ± Filtreleme</h2>
                <div id="categories-horizontal-list" class="flex space-x-4 overflow-x-auto pb-4">
                    <!-- Kategori ButonlarÄ± buraya yÃ¼klenecek -->
                </div>
            </div>
        </section>

        <!-- ÃœrÃ¼nler Listesi -->
        <section id="products" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-extrabold text-gray-900 mb-4 border-l-4 border-blue-600 pl-4">ðŸŽ¯ <span id="current-category-title">Ã–ne Ã‡Ä±kan TÃ¼m Hizmetlerimiz</span></h2>
                <p class="text-xl text-gray-600 mb-12">DetaylarÄ± inceleyin ve projenize en uygun Ã§Ã¶zÃ¼mÃ¼ seÃ§in. BaÅŸlangÄ±Ã§ta 4 Ã¼rÃ¼n gÃ¶sterilir.</p>
                
                <!-- ÃœrÃ¼nler Buraya YÃ¼klenecek -->
                <div id="filtered-product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                     <div class="col-span-full text-center py-10 text-gray-500 text-xl" id="loading-spinner">
                        <i class="fas fa-spinner fa-spin text-4xl text-blue-600"></i>
                        <p class="mt-3">Hizmetler yÃ¼kleniyor...</p>
                    </div>
                </div>

                <div id="more-products-container" class="text-center mt-12 hidden">
                    <button onclick="showMoreProducts()" id="toggle-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 btn-primary shadow-lg">
                        Daha Fazla GÃ¶ster (<span id="more-count">0</span> ÃœrÃ¼n) <i class="fas fa-plus ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Garanti ve GÃ¼venceler (Statik KaldÄ±) -->
        <section id="guarantees" class="py-20 bg-gray-900 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-extrabold mb-4 text-center text-blue-400"><i class="fas fa-shield-alt mr-3"></i> Neden RexvStore? ÃœÃ§ Temel Garantimiz.</h2>
                <p class="text-xl text-gray-400 mb-12 text-center">GÃ¼venlik ve anonimlik, bizim iÃ§in bir opsiyon deÄŸil, temel prensiptir.</p>
                
                <div class="grid md:grid-cols-3 gap-10">
                    <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border-t-4 border-red-600 transition duration-300 hover:bg-gray-700">
                        <i class="fas fa-lock text-5xl mb-4 text-red-400"></i>
                        <h3 class="text-2xl font-bold mb-3">Tam Anonim Ä°ÅŸlem</h3>
                        <p class="text-gray-400">TÃ¼m iletiÅŸim ve iÅŸlemler ÅŸifreli ve gizlidir. Verileriniz asla Ã¼Ã§Ã¼ncÃ¼ ÅŸahÄ±slarla paylaÅŸÄ±lmaz.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border-t-4 border-blue-600 transition duration-300 hover:bg-gray-700">
                        <i class="fas fa-medal text-5xl mb-4 text-blue-400"></i>
                        <h3 class="text-2xl font-bold mb-3">KoÅŸulsuz Ä°ade Garantisi</h3>
                        <p class="text-gray-400">YazÄ±lÄ±mÄ±mÄ±z sÃ¶z verilen Ã¶zellikleri yerine getirmezse, paranÄ±z iade edilir. SÄ±fÄ±r risk.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-xl shadow-2xl border-t-4 border-green-600 transition duration-300 hover:bg-gray-700">
                        <i class="fas fa-headset text-5xl mb-4 text-green-400"></i>
                        <h3 class="text-2xl font-bold mb-3">7/24 Teknik Destek</h3>
                        <p class="text-gray-400">Projenizin kesintisiz Ã§alÄ±ÅŸmasÄ± iÃ§in Telegram Ã¼zerinden anlÄ±k ve sÃ¼rekli destek saÄŸlÄ±yoruz.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MÃ¼ÅŸteri YorumlarÄ± (Statik KaldÄ±) -->
        <section id="testimonials" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-extrabold text-gray-900 mb-4 text-center"><i class="fas fa-comment-dots text-red-600 mr-2"></i> MÃ¼ÅŸteri YorumlarÄ±</h2>
                <p class="text-xl text-gray-600 mb-12 text-center">Hizmet kalitemiz, mÃ¼ÅŸterilerimizin sÃ¶zlerinde gizlidir.</p>

                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-red-600">
                        <div class="text-3xl text-red-500 mb-3"><i class="fas fa-quote-left"></i></div>
                        <p class="text-gray-700 italic mb-4">"Telegram botu kurmamÄ±z gereken sÃ¼reden Ã§ok daha Ã¶nce, hatasÄ±z bir ÅŸekilde teslim edildi. Gizlilik konusunda Ã§ok titizler, gerÃ§ekten gÃ¼ven veriyor."</p>
                        <p class="font-bold text-gray-800">- Mert K.</p>
                        <p class="text-sm text-gray-500">Finans Botu MÃ¼ÅŸterisi</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-blue-600">
                        <div class="text-3xl text-blue-500 mb-3"><i class="fas fa-quote-left"></i></div>
                        <p class="text-gray-700 italic mb-4">"SÄ±zma testi hizmetleri sayesinde gÃ¶zden kaÃ§Ä±rdÄ±ÄŸÄ±mÄ±z kritik zafiyetleri buldular. Profesyonellik seviyeleri oldukÃ§a yÃ¼ksek, tavsiye ederim."</p>
                        <p class="font-bold text-gray-800">- Gizem A.</p>
                        <p class="text-sm text-gray-500">Kurumsal GÃ¼venlik</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-green-600">
                        <div class="text-3xl text-green-500 mb-3"><i class="fas fa-quote-left"></i></div>
                        <p class="text-gray-700 italic mb-4">"Kripto trading botu beklediÄŸimden Ã§ok daha iyi Ã§alÄ±ÅŸÄ±yor. Kurulum sonrasÄ± destekleri harika, her soruma anÄ±nda cevap alabildim."</p>
                        <p class="font-bold text-gray-800">- Can B.</p>
                        <p class="text-sm text-gray-500">Trading Otomasyonu</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SSS (Dinamik) -->
        <section id="faq" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-extrabold text-gray-900 mb-12 text-center"><i class="fas fa-question-circle text-blue-600 mr-2"></i> SÄ±kÃ§a Sorulan Sorular (SSS)</h2>
                
                <div class="max-w-3xl mx-auto space-y-4" id="faq-accordion">
                    <div class="text-center py-5 text-gray-500">SSS'ler yÃ¼kleniyor...</div>
                </div>
            </div>
        </section>

        <!-- Ä°letiÅŸim (Statik KaldÄ±) -->
        <section id="contact" class="py-20 bg-blue-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white">
                <h2 class="text-5xl font-extrabold mb-4">HazÄ±r MÄ±sÄ±nÄ±z? Ä°letiÅŸime GeÃ§in.</h2>
                <p class="text-2xl font-light mb-8">Projelerinize hayat vermek iÃ§in tek bir mesaj yeterli.</p>
                <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-8">
                    <a href="satin_al.html" class="bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-12 rounded-xl text-xl shadow-2xl transition duration-300 transform hover:scale-105 btn-primary">
                        Hizmeti SatÄ±n Al <i class="fas fa-shopping-bag ml-2"></i>
                    </a>
                    <a href="https://t.me/rexvstore_destek" target="_blank" class="bg-white hover:bg-gray-100 text-blue-700 font-bold py-4 px-12 rounded-xl text-xl shadow-2xl transition duration-300 transform hover:scale-105 btn-primary">
                        Telegram Destek <i class="fab fa-telegram-plane ml-2"></i>
                    </a>
                </div>
            </div>
        </section>

    </main>

    <!-- Alt Bilgi (Footer) -->
    <footer class="bg-gray-900 text-white mt-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-center border-t border-gray-700">
             <div class="text-center mb-6">
                <a href="#hero" class="text-3xl font-extrabold text-white tracking-wide">
                    <span class="text-red-400">R</span>ex<span class="text-blue-400">v</span><span class="text-gray-300">Store</span>
                </a>
            </div>
            <div class="flex justify-center space-x-6 mb-6 text-gray-400">
                <a href="#" class="hover:text-white transition duration-200">Gizlilik PolitikasÄ±</a>
                <a href="#" class="hover:text-white transition duration-200">KullanÄ±m ÅžartlarÄ±</a>
                <a href="#faq" class="hover:text-white transition duration-200">YardÄ±m Merkezi</a>
            </div>
            <p class="text-sm text-gray-500">&copy; 2025 RexvStore. TÃ¼m HaklarÄ± SaklÄ±dÄ±r. V8.0 Dinamik SÃ¼rÃ¼m.</p>
             <p class="text-xs text-gray-700 mt-2">KullanÄ±cÄ± ID: <span id="user-id">YÃ¼kleniyor...</span> | App ID: <span id="app-id">YÃ¼kleniyor...</span></p>
        </div>
    </footer>

<script type="module">
    // #################################################
    // JAVASCRIPT: FIREBASE VE VERÄ° YÃ–NETÄ°MÄ°
    // #################################################

    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, onSnapshot, collection, query, getDocs, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
    // setLogLevel('debug'); // Firestore debug loglarÄ±nÄ± aÃ§ar

    // Global Firebase DeÄŸiÅŸkenleri
    let app, db, auth, userId;
    let categoriesCache = {};
    let allProducts = [];
    let allBanners = [];
    
    // Firestore Path TanÄ±mlarÄ±
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const PUBLIC_DATA_PATH = `/artifacts/${appId}/public/data/`;

    // 1. Firebase BaÅŸlatma ve Kimlik DoÄŸrulama
    async function setupFirebase() {
        try {
            const firebaseConfig = JSON.parse(__firebase_config);
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            
            document.getElementById('app-id').textContent = appId;

            const authPromise = new Promise(resolve => {
                const unsubscribe = onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        console.log("Firebase: BaÅŸarÄ±yla kimlik doÄŸrulandÄ±. UID:", userId);
                        document.getElementById('user-id').textContent = userId;
                        unsubscribe(); // Listener'Ä± kaldÄ±r
                        resolve();
                    }
                });
            });

            if (typeof __initial_auth_token !== 'undefined') {
                await signInWithCustomToken(auth, __initial_auth_token);
            } else {
                await signInAnonymously(auth);
            }
            
            await authPromise; // Auth state deÄŸiÅŸimini bekle

            // Auth sonrasÄ± veri yÃ¼klemeyi baÅŸlat
            await initializeMockData();
            startDataListeners();
            
        } catch (error) {
            console.error("Firebase kurulum hatasÄ±:", error);
            document.getElementById('loading-spinner').innerHTML = `<p class="text-red-600">Veri yÃ¼klenemedi. LÃ¼tfen konsolu kontrol edin.</p>`;
        }
    }

    // 2. Demo Verileri OluÅŸturma ve Ekleme
    async function initializeMockData() {
        const productRef = collection(db, PUBLIC_DATA_PATH + 'products');
        const docsSnapshot = await getDocs(productRef);
        
        if (docsSnapshot.empty) {
            console.log("Firestore: Ä°lk Ã§alÄ±ÅŸtÄ±rma, demo verileri ekleniyor...");
            
            // Demo Kategori Verileri
            const categoriesMock = [
                { id: 'telegram', name: 'Telegram BotlarÄ±', icon: 'fab fa-telegram-plane', color: 'blue' },
                { id: 'web_design', name: 'Web TasarÄ±m', icon: 'fas fa-desktop', color: 'green' },
                { id: 'security', name: 'Hack & GÃ¼venlik', icon: 'fas fa-shield-alt', color: 'red' },
                { id: 'finans', name: 'Finansal Otomasyon', icon: 'fas fa-chart-line', color: 'purple' },
                { id: 'custom_dev', name: 'Ã–zel YazÄ±lÄ±m', icon: 'fas fa-code', color: 'yellow' },
            ];
            for (const cat of categoriesMock) {
                await setDoc(doc(db, PUBLIC_DATA_PATH + 'categories', cat.id), cat);
            }

            // Demo ÃœrÃ¼n Verileri
            const productsMock = [
                { id: 'p001', name: 'Ã–zel Telegram SipariÅŸ Botu', categoryId: 'telegram', price: 1500, discounted_price: 1200, stock: 10, image: 'https://placehold.co/600x400/1e40af/ffffff?text=TG+Bot', short_desc: '7/24 otomatik satÄ±ÅŸ ve raporlama sistemi.', full_desc: 'Bu bot, Telegram Ã¼zerinden anlÄ±k sipariÅŸ alÄ±p Ã¶deme onayÄ±nÄ± takip eder. TÃ¼m finansal entegrasyonlar dahildir. Anahtar teslimi kurulum ve 6 ay Ã¼cretsiz teknik destek.' },
                { id: 'p002', name: 'Kurumsal Web Sitesi & CMS', categoryId: 'web_design', price: 8000, discounted_price: 7500, stock: 5, image: 'https://placehold.co/600x400/059669/ffffff?text=Web+CMS', short_desc: 'Modern, responsive ve yÃ¶netilebilir web site Ã§Ã¶zÃ¼mÃ¼.', full_desc: 'SektÃ¶rÃ¼nÃ¼ze Ã¶zel modern tasarÄ±mlar, SEO uyumlu altyapÄ± ve kolay iÃ§erik yÃ¶netim paneli (CMS). Mobil uyumluluk garantisi.' },
                { id: 'p003', name: 'KapsamlÄ± SÄ±zma Testi (Pen-Test)', categoryId: 'security', price: 4500, discounted_price: 4500, stock: 20, image: 'https://placehold.co/600x400/dc2626/ffffff?text=Pen+Test', short_desc: 'Sistemlerinizdeki zafiyetleri derinlemesine analiz eder.', full_desc: 'AÄŸ, sunucu ve uygulama katmanlarÄ±nda manuel ve otomatik araÃ§larla detaylÄ± gÃ¼venlik analizi. Zafiyetleri giderme yol haritasÄ± sunulur.' },
                { id: 'p004', name: 'Yapay Zeka Destekli Trading Botu', categoryId: 'finans', price: 9000, discounted_price: 8500, stock: 3, image: 'https://placehold.co/600x400/9333ea/ffffff?text=AI+Trading', short_desc: 'YÃ¼ksek frekanslÄ± kripto alÄ±m-satÄ±m otomasyonu.', full_desc: 'Makine Ã¶ÄŸrenimi (ML) tabanlÄ± algoritmalarla Ã§alÄ±ÅŸan, 7/24 piyasa takibi yapan Trading Botu. Kripto borsalarÄ±na tam entegrasyon.' },
                { id: 'p005', name: 'Landing Page & Mikro Site TasarÄ±mÄ±', categoryId: 'web_design', price: 2000, discounted_price: 1800, stock: 8, image: 'https://placehold.co/600x400/059669/ffffff?text=Landing+Page', short_desc: 'DÃ¶nÃ¼ÅŸÃ¼m odaklÄ±, tek sayfalÄ±k hÄ±zlÄ± kampanya sitesi.', full_desc: 'HÄ±zlÄ± yÃ¼klenen, mobil uyumlu ve tek bir amaca odaklanmÄ±ÅŸ landing page tasarÄ±mÄ±.' },
                { id: 'p009', name: 'Ã–zel YazÄ±lÄ±m GeliÅŸtirme (Saatlik)', categoryId: 'custom_dev', price: 500, discounted_price: 500, stock: 50, image: 'https://placehold.co/600x400/f59e0b/ffffff?text=Custom+Code', short_desc: 'Ä°htiyacÄ±nÄ±za Ã¶zel, sÄ±fÄ±rdan yazÄ±lÄ±m Ã§Ã¶zÃ¼mleri.', full_desc: 'Analizden teste, tam dÃ¶ngÃ¼ Ã¶zel yazÄ±lÄ±m geliÅŸtirme hizmeti. Saatlik veya proje bazlÄ± Ã§alÄ±ÅŸÄ±labilir.' },
            ];
            for (const product of productsMock) {
                await setDoc(doc(db, PUBLIC_DATA_PATH + 'products', product.id), product);
            }
            
            // Demo Banner Verileri
            const bannersMock = [
                { id: 'b1', title: 'GÃ¼venlikte Zirve', subtitle: 'Pen-Test hizmetlerinde %10 indirim!', image: 'https://images.unsplash.com/photo-1542831371-29b0f74f94c7?ixlib=rb-4.0.3&w=1920&q=80', link: '#products', active: true, order: 1 },
                { id: 'b2', title: 'Finansal Ã–zgÃ¼rlÃ¼k', subtitle: 'AI Trading Botu ile geleceÄŸe yatÄ±rÄ±m yapÄ±n.', image: 'https://images.unsplash.com/photo-1620321023274-d4b99f362248?w=1920&q=80', link: '#products', active: true, order: 2 },
            ];
            for (const banner of bannersMock) {
                await setDoc(doc(db, PUBLIC_DATA_PATH + 'banners', banner.id), banner);
            }

            // Demo Duyuru Verileri
            await setDoc(doc(db, PUBLIC_DATA_PATH + 'announcements', 'a1'), { text: 'ðŸ“¢ Yeni yÄ±l kampanyasÄ± baÅŸladÄ±! TÃ¼m botlarda %15 Ä°NDÄ°RÄ°M! FÄ±rsatÄ± kaÃ§Ä±rma.', active: true, order: 1 });

            // Demo SSS Verileri
            const faqMock = [
                 { id: 'f1', question: "SatÄ±n alma sÃ¼reci nasÄ±l iÅŸliyor?", answer: "Hizmetlerimizi inceledikten sonra 'SatÄ±n Al' butonuna basarak direkt Ã¶deme sayfamÄ±za yÃ¶nlendirilirsiniz. Burada Ã¶deme ve iletiÅŸim bilgilerinizi girerek sipariÅŸi tamamlarsÄ±nÄ±z. ArdÄ±ndan Telegram veya e-posta yoluyla size ulaÅŸÄ±larak kurulum baÅŸlatÄ±lÄ±r." },
                 { id: 'f2', question: "Gizlilik garantiniz nedir?", answer: "MÃ¼ÅŸteri ve proje verileri iÃ§in **tam anonimlik** taahhÃ¼t ediyoruz. TÃ¼m iletiÅŸim ve iÅŸlemler ÅŸifreli kanallar Ã¼zerinden yÃ¼rÃ¼tÃ¼lÃ¼r. Verileriniz Ã¼Ã§Ã¼ncÃ¼ ÅŸahÄ±slarla paylaÅŸÄ±lmaz." },
                 { id: 'f3', question: "YazÄ±lÄ±m hatalarÄ± ve gÃ¼ncellemeler dahil mi?", answer: "Evet, tÃ¼m Ã¼rÃ¼nlerimiz iÃ§in baÅŸlangÄ±Ã§ta en az 6 ay Ã¼cretsiz hata giderme (bug fix) ve gerekli gÃ¼venlik gÃ¼ncellemeleri dahildir." },
            ];
            for (const faq of faqMock) {
                await setDoc(doc(db, PUBLIC_DATA_PATH + 'faqs', faq.id), faq);
            }
        }
    }

    // 3. GerÃ§ek ZamanlÄ± Veri Dinleyicileri (onSnapshot)
    function startDataListeners() {
        if (!db) return;

        // Banners ve Duyurular
        onSnapshot(collection(db, PUBLIC_DATA_PATH + 'banners'), (snapshot) => {
            allBanners = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })).filter(b => b.active).sort((a, b) => a.order - b.order);
            renderHeroSlider();
        }, (error) => console.error("Banner dinleme hatasÄ±:", error));
        
        onSnapshot(doc(db, PUBLIC_DATA_PATH + 'announcements', 'a1'), (docSnapshot) => {
            const data = docSnapshot.data();
            renderAnnouncementBar(data);
        }, (error) => console.error("Duyuru dinleme hatasÄ±:", error));
        
        // Kategoriler
        onSnapshot(collection(db, PUBLIC_DATA_PATH + 'categories'), (snapshot) => {
            categoriesCache = {};
            snapshot.docs.forEach(doc => {
                categoriesCache[doc.id] = { id: doc.id, ...doc.data() };
            });
            renderHorizontalCategories();
        }, (error) => console.error("Kategori dinleme hatasÄ±:", error));

        // ÃœrÃ¼nler
        onSnapshot(collection(db, PUBLIC_DATA_PATH + 'products'), (snapshot) => {
            allProducts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            document.getElementById('loading-spinner').classList.add('hidden');
            // ÃœrÃ¼nler deÄŸiÅŸtiÄŸinde mevcut kategori filtresini koruyarak listeyi yeniden Ã§iz
            filterProducts(currentCategory);
        }, (error) => console.error("ÃœrÃ¼n dinleme hatasÄ±:", error));
        
        // SSS
        onSnapshot(collection(db, PUBLIC_DATA_PATH + 'faqs'), (snapshot) => {
            faqData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            renderFAQ();
        }, (error) => console.error("SSS dinleme hatasÄ±:", error));
    }
// #################################################
    // JAVASCRIPT: UI VE ETKÄ°LEÅžÄ°M YÃ–NETÄ°MÄ°
    // #################################################
    
    let currentCategory = 'all'; 
    const productsPerPage = 4;
    let filteredProductList = [];
    let displayedProductCount = 0;
    
    // YardÄ±mcÄ± Fonksiyonlar
    function getProductPrice(product) {
        return product.discounted_price < product.price ? product.discounted_price : product.price;
    }
    
    function getProductById(productId) {
        return allProducts.find(p => p.id === productId);
    }
    
    // Duyuru BandÄ±nÄ± YÃ¶netme
    function renderAnnouncementBar(data) {
        const bar = document.getElementById('announcement-bar');
        const header = document.getElementById('main-header');
        if (data && data.active && data.text) {
            document.getElementById('announcement-text').textContent = data.text;
            bar.classList.remove('hidden');
            // Duyuru barÄ± aktifse header'Ä±n top pozisyonunu ayarla
            header.style.top = '38px'; 
        } else {
            bar.classList.add('hidden');
            header.style.top = '0'; 
        }
    }

    // Hero Slider (Slaytlar)
    let currentSlide = 0;
    let sliderInterval;
    function renderHeroSlider() {
        const sliderContainer = document.getElementById('hero-slider');
        const overlayHTML = sliderContainer.querySelector('.bg-opacity-70').outerHTML;
        sliderContainer.innerHTML = ''; // Ã–nceki slaytlarÄ± temizle

        if (allBanners.length === 0) {
            // HiÃ§ banner yoksa yer tutucu gÃ¶ster
            sliderContainer.innerHTML = `<div class="hero-slide active" style="background-image: url('https://placehold.co/1920x1080/000000/FFFFFF?text=RexvStore');"></div>${overlayHTML}`;
        } else {
            allBanners.forEach((banner, index) => {
                const activeClass = index === 0 ? 'active' : '';
                const slideHTML = `
                    <div class="hero-slide ${activeClass}" style="background-image: url('${banner.image}');">
                        <div class="absolute inset-0 bg-gray-900 bg-opacity-30"></div>
                    </div>
                `;
                sliderContainer.innerHTML += slideHTML;
            });
             sliderContainer.innerHTML += overlayHTML; // Overlay'i tekrar ekle
        }

        // Slider dÃ¶ngÃ¼sÃ¼nÃ¼ yeniden baÅŸlat
        clearInterval(sliderInterval);
        if (allBanners.length > 1) {
            startSliderInterval();
        }
    }

    function startSliderInterval() {
        const slides = document.querySelectorAll('#hero-slider .hero-slide');
        if (slides.length <= 1) return;

        sliderInterval = setInterval(() => {
            slides[currentSlide].classList.remove('active');
            // Sadece slayt divlerini say
            const slideElements = Array.from(slides).filter(s => !s.classList.contains('bg-opacity-70'));
            
            currentSlide = (currentSlide + 1) % slideElements.length;
            slideElements[currentSlide].classList.add('active');
        }, 5000); 
    }
    
    // ÃœrÃ¼n KartÄ± Åžablonu
    function createProductCard(product) {
        const price = getProductPrice(product);
        const categoryMeta = categoriesCache[product.categoryId] || { name: 'Genel', icon: 'fas fa-cogs', color: 'gray' };
        
        const colorClass = categoryMeta.color === 'yellow' ? 'text-yellow-600' : `text-${categoryMeta.color}-600`;
        const borderColorClass = categoryMeta.color === 'yellow' ? 'border-b-yellow-600' : `border-b-${categoryMeta.color}-600`;
        
        const priceHTML = product.discounted_price < product.price 
            ? `<span class="text-sm text-gray-500 line-through mr-2">${product.price.toLocaleString('tr-TR')} TL</span><span class="text-2xl font-extrabold text-green-600">${price.toLocaleString('tr-TR')} TL</span>`
            : `<span class="text-2xl font-extrabold text-blue-600">${price.toLocaleString('tr-TR')} TL</span>`;

        return `
            <div class="product-card bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transition duration-300 border-b-5 ${borderColorClass}">
                <img src="${product.image}" alt="${product.name}" onerror="this.onerror=null; this.src='https://placehold.co/600x400/94a3b8/000000?text=GÃ¶rsel+BulunamadÄ±';" class="h-48 w-full object-cover">
                <div class="p-6 flex flex-col flex-grow">
                    <p class="text-sm font-semibold mb-1 flex items-center ${colorClass}"><i class="${categoryMeta.icon} mr-2"></i> ${categoryMeta.name}</p>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">${product.name}</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">${product.short_desc}</p>
                    <div class="mt-auto pt-4 border-t border-gray-100">
                        <div class="flex items-center justify-start mb-4">
                            ${priceHTML}
                        </div>
                        <div class="flex space-x-2">
                             <button onclick="renderQuickView('${product.id}')" class="flex-grow bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition duration-150 btn-primary">
                                Ä°ncele <i class="fas fa-search ml-1"></i>
                            </button>
                            <a href="satin_al.html?product_id=${product.id}" class="w-1/2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition duration-150 btn-primary text-center">
                                SatÄ±n Al <i class="fas fa-arrow-right ml-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }
    
    // ÃœrÃ¼n Filtreleme ve Listeleme Fonksiyonu
    window.filterProducts = function(category) {
        currentCategory = category;
        const listContainer = document.getElementById('filtered-product-list');
        const titleElement = document.getElementById('current-category-title');
        
        // 1. ÃœrÃ¼nleri filtrele
        filteredProductList = category === 'all' 
            ? allProducts 
            : allProducts.filter(p => p.categoryId === category);
        
        // 2. BaÅŸlÄ±k ve Aktif Butonu GÃ¼ncelle
        let titleText = "Ã–ne Ã‡Ä±kan TÃ¼m Hizmetlerimiz";
        if (category !== 'all' && categoriesCache[category]) {
            titleText = categoriesCache[category].name + " Hizmetleri";
        }
        titleElement.textContent = titleText;
        
        document.querySelectorAll('.category-button').forEach(btn => btn.classList.remove('active'));
        const activeBtn = document.getElementById(`cat-${category}`);
        if (activeBtn) {
            activeBtn.classList.add('active');
        } else {
             document.getElementById(`cat-all`)?.classList.add('active');
        }
        
        // 3. Listeyi ve GÃ¶rÃ¼ntÃ¼lenen SayÄ±yÄ± SÄ±fÄ±rla
        listContainer.innerHTML = '';
        displayedProductCount = 0;
        
        // 4. ÃœrÃ¼nleri GÃ¶rÃ¼ntÃ¼le
        showMoreProducts();
        
        // MenÃ¼den gelindiyse kaydÄ±rma yapma, sadece butonlara basÄ±nca yap
        if (event && event.type === 'click') {
             document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    window.showMoreProducts = function() {
        const listContainer = document.getElementById('filtered-product-list');
        const moreContainer = document.getElementById('more-products-container');
        
        const productsToShow = filteredProductList.slice(displayedProductCount, displayedProductCount + productsPerPage);
        
        productsToShow.forEach(product => {
            const productHTML = createProductCard(product);
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = productHTML;
            const card = tempDiv.firstChild;
            card.classList.add('opacity-0'); 
            listContainer.appendChild(card);
            
            setTimeout(() => {
                card.classList.remove('opacity-0');
                card.classList.add('fade-in'); 
            }, 50); 
        });
        
        displayedProductCount += productsToShow.length;
        
        const remainingCount = filteredProductList.length - displayedProductCount;
        
        // "Daha Fazla GÃ¶ster" Butonunu YÃ¶net
        if (remainingCount > 0) {
            document.getElementById('more-count').textContent = remainingCount;
            document.getElementById('toggle-btn').innerHTML = `Daha Fazla GÃ¶ster (${remainingCount} ÃœrÃ¼n) <i class="fas fa-plus ml-2"></i>`;
            moreContainer.classList.remove('hidden');
        } else {
            moreContainer.classList.add('hidden');
        }
    }
    
    // Yatay Kategori ButonlarÄ±nÄ± OluÅŸturma
    function renderHorizontalCategories() {
        const container = document.getElementById('categories-horizontal-list');
        container.innerHTML = ''; // Temizle
        
        // TÃ¼m Hizmetler butonu
        const allButton = `
             <button onclick="filterProducts('all')" id="cat-all" class="category-button flex-shrink-0 bg-red-600 border border-red-600 rounded-full py-2 px-6 shadow-md flex items-center active">
                <i class="fas fa-list text-lg mr-3 text-white"></i>
                <span class="text-white font-semibold">TÃ¼m Hizmetler</span>
            </button>
        `;
        container.innerHTML += allButton;

        Object.keys(categoriesCache).forEach(key => {
            const cat = categoriesCache[key];
            const colorClass = cat.color === 'yellow' ? 'text-yellow-600' : `text-${cat.color}-600`;

            const buttonHTML = `
                <button onclick="filterProducts('${key}')" id="cat-${key}" class="category-button flex-shrink-0 bg-white rounded-full py-2 px-6 shadow-md flex items-center hover:bg-red-50 hover:border-red-600">
                    <i class="${cat.icon} text-lg mr-3 ${colorClass}"></i>
                    <span class="text-gray-800 font-semibold">${cat.name}</span>
                </button>
            `;
            container.innerHTML += buttonHTML;
        });
        
        // Kategori butonlarÄ± yÃ¼klendikten sonra mevcut kategori filtresini koru
        filterProducts(currentCategory);
    }

    // HÄ±zlÄ± Ã–nizleme (Quick View) - Modal
    window.renderQuickView = function(productId) {
        const product = getProductById(productId);
        const detailContainer = document.getElementById('quick-view-content');
        const modal = document.getElementById('quick-view-modal');

        if (!product) {
            console.error("ÃœrÃ¼n bulunamadÄ±:", productId);
            return;
        }
        
        const price = getProductPrice(product);
        const categoryMeta = categoriesCache[product.categoryId] || { name: 'Genel', icon: 'fas fa-cogs', color: 'gray' };
        const colorClass = categoryMeta.color === 'yellow' ? 'text-yellow-600' : `text-${categoryMeta.color}-600`;
        const borderColorClass = categoryMeta.color === 'yellow' ? 'border-yellow-600' : `border-${categoryMeta.color}-600`;

        detailContainer.innerHTML = `
            <div class="relative p-8 bg-white rounded-xl max-h-[90vh] overflow-y-auto">
                <button onclick="closeQuickViewModal()" class="text-gray-500 hover:text-red-600 text-3xl transition duration-200 absolute top-4 right-4 z-20"><i class="fas fa-times-circle"></i></button>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <img src="${product.image}" alt="${product.name}" onerror="this.onerror=null; this.src='https://placehold.co/600x400/94a3b8/000000?text=GÃ¶rsel+BulunamadÄ±';" class="w-full h-auto rounded-xl shadow-xl object-cover mb-4 border-2 ${borderColorClass}">
                         <div class="bg-gray-100 p-4 rounded-lg">
                            <h4 class="text-xl font-bold mb-2 text-gray-800">Hizmet KapsamÄ±:</h4>
                            <p class="text-gray-700">${product.full_desc}</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <h1 class="text-4xl font-extrabold text-gray-900">${product.name}</h1>
                        <p class="text-xl font-semibold text-gray-500 uppercase flex items-center"><i class="${categoryMeta.icon} mr-2 ${colorClass}"></i> ${categoryMeta.name}</p>

                        <div class="bg-red-50 p-6 rounded-xl border-l-4 ${borderColorClass} shadow-inner">
                            <p class="text-xl font-semibold text-gray-700 mb-2">Tek Seferlik Ãœcret:</p>
                            ${product.discounted_price < product.price 
                                ? `<p class="text-2xl text-red-500 line-through">${product.price.toLocaleString('tr-TR')} TL</p><p class="text-5xl font-extrabold text-green-600">${price.toLocaleString('tr-TR')} TL</p><p class="text-sm text-red-700 mt-2 font-bold"><i class="fas fa-tag mr-1"></i> Ä°NDÄ°RÄ°M FIRSATI! HEMEN YAKALA.</p>`
                                : `<p class="text-5xl font-extrabold text-blue-600">${price.toLocaleString('tr-TR')} TL</p>`
                            }
                        </div>
                        
                        <p class="font-semibold text-lg ${product.stock > 0 ? 'text-green-600' : 'text-red-600'}"><i class="fas fa-clock mr-2"></i> Teslimat Durumu: ${product.stock > 0 ? `HÄ±zlÄ± Kurulum (${product.stock} Adet HazÄ±r)` : 'Proje BaÅŸlangÄ±cÄ± Ä°Ã§in Beklemede'}</p>

                        <a href="satin_al.html?product_id=${product.id}" class="w-full inline-block text-center bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-xl text-xl transition duration-300 shadow-xl btn-primary">
                            Hemen SatÄ±n Al ve BaÅŸlat <i class="fas fa-arrow-circle-right ml-2"></i>
                        </a>
                        <a href="https://t.me/rexvstore_destek" target="_blank" class="w-full inline-block text-center bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-4 rounded-xl text-xl transition duration-300 border-2 border-gray-300">
                            Detaylar Ä°Ã§in Ä°letiÅŸime GeÃ§ <i class="fab fa-telegram-plane ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        `;
        
        modal.classList.add('open');
        modal.style.display = 'flex';
    }
    
    window.closeQuickViewModal = function() {
        const modal = document.getElementById('quick-view-modal');
        modal.classList.remove('open');
        setTimeout(() => {
            modal.style.display = 'none';
        }, 400);
    }
    
    // SSS (Accordion)
    let faqData = [];
    function renderFAQ() {
        const faqContainer = document.getElementById('faq-accordion');
        if (faqData.length === 0) {
            faqContainer.innerHTML = `<div class="text-center py-5 text-gray-500">Åžu anda gÃ¶sterilecek SÄ±kÃ§a Sorulan Soru bulunmamaktadÄ±r.</div>`;
            return;
        }

        faqContainer.innerHTML = faqData.map((item, index) => `
            <div class="accordion-item bg-white p-5 rounded-lg shadow-lg border border-gray-100 transition duration-300 hover:border-blue-300">
                <div class="accordion-header flex justify-between items-center cursor-pointer" onclick="toggleAccordion(${index})">
                    <h4 class="text-lg font-bold text-gray-800">${item.question}</h4>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform" id="icon-faq-${index}"></i>
                </div>
                <div class="accordion-content overflow-hidden transition-all duration-300 ease-in-out" id="content-faq-${index}" style="max-height: 0;">
                    <p class="text-gray-600 leading-relaxed pt-3 border-t border-gray-100 mt-3">${item.answer}</p>
                </div>
            </div>
        `).join('');
    }
    
    window.toggleAccordion = function(index) {
        const content = document.getElementById(`content-faq-${index}`);
        const icon = document.getElementById(`icon-faq-${index}`);
        const item = content.parentElement;

        if (content.style.maxHeight !== '0px' && content.style.maxHeight !== '') {
            content.style.maxHeight = '0px';
            icon.classList.remove('rotate-180');
            item.classList.remove('bg-blue-50', 'shadow-xl', 'border-blue-500');
        } else {
            // TÃ¼m diÄŸerlerini kapat
            document.querySelectorAll('.accordion-content').forEach((c, i) => {
                c.style.maxHeight = '0px';
                document.getElementById(`icon-faq-${i}`)?.classList.remove('rotate-180');
                c.parentElement.classList.remove('bg-blue-50', 'shadow-xl', 'border-blue-500');
            });

            // SeÃ§ileni aÃ§
            content.style.maxHeight = content.scrollHeight + 30 + "px"; // 30px ek boÅŸluk
            icon.classList.add('rotate-180');
            item.classList.add('bg-blue-50', 'shadow-xl', 'border-blue-500');
        }
    }
    
    // Mobil MenÃ¼ Ä°ÅŸlevi
    window.toggleMobileMenu = function() {
        const menu = document.getElementById('mobile-menu');
        if (menu.classList.contains('open')) {
            menu.classList.remove('open');
            setTimeout(() => {
                if (window.innerWidth < 768) { 
                    menu.classList.add('hidden');
                }
            }, 300);
        } else {
            menu.classList.remove('hidden');
            setTimeout(() => {
                menu.classList.add('open');
            }, 10);
        }
    }
    
    // Ä°lk YÃ¼kleme Ä°ÅŸlemleri
    document.addEventListener('DOMContentLoaded', () => {
        setupFirebase();
    });
</script>

</body>
</html>